<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Options - Monstache</title>
    <meta name="generator" content="Hugo 0.21-DEV" />

    
    <meta name="description" content="a go daemon which syncs mongodb to elasticsearch in neal realtime">
    
    <link rel="canonical" href="https://rwynn.github.io/monstache-site/options/">
    
    <meta name="author" content="Ryan Wynn">
    

    <meta property="og:url" content="https://rwynn.github.io/monstache-site/options/">
    <meta property="og:title" content="Monstache">
    <meta property="og:image" content="https://rwynn.github.io/images/monstache.png">
    <meta name="apple-mobile-web-app-title" content="Monstache">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://rwynn.github.io/monstache-site/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://rwynn.github.io/monstache-site/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://rwynn.github.io/monstache-site/fonts/icon.eot');
        src: url('https://rwynn.github.io/monstache-site/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://rwynn.github.io/monstache-site/fonts/icon.woff')
               format('woff'),
             url('https://rwynn.github.io/monstache-site/fonts/icon.ttf')
               format('truetype'),
             url('https://rwynn.github.io/monstache-site/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://rwynn.github.io/monstache-site/stylesheets/application.css">
    <link rel="stylesheet" href="https://rwynn.github.io/monstache-site/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://rwynn.github.io/monstache-site/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://rwynn.github.io/monstache-site/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Work%20Sans:400,700|Source&#43;Code&#43;Pro">
    <style>
      body, input {
        font-family: 'Work Sans', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://rwynn.github.io/monstache-site/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-indigo palette-accent-red">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Options
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/rwynn" title="@rwynn on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/rwynn/monstache" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://rwynn.github.io/monstache-site/images/monstache.png">
        </div>
      
      <div class="name">
        <strong>Monstache <span class="version">3.0.0</span></strong>
        
          <br>
          rwynn/monstache
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/rwynn/monstache/releases" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/rwynn/monstache/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
	<hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Monstache" href="https://rwynn.github.io/monstache-site/">
	
	Monstache
</a>



  
</li>



<li>
  
    



<a  title="Getting started" href="https://rwynn.github.io/monstache-site/getting-started/">
	
	Getting started
</a>



  
</li>



<li>
  
    



<a class="current" title="Options" href="https://rwynn.github.io/monstache-site/options/">
	
	Options
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Namespaces" href="https://rwynn.github.io/monstache-site/namespaces/">
	
	Namespaces
</a>



  
</li>



<li>
  
    



<a  title="Index Mapping" href="https://rwynn.github.io/monstache-site/index-mapping/">
	
	Index Mapping
</a>



  
</li>



<li>
  
    



<a  title="Transform and Filter" href="https://rwynn.github.io/monstache-site/transform-filter/">
	
	Transform and Filter
</a>



  
</li>



<li>
  
    



<a  title="Indexing GridFS Files" href="https://rwynn.github.io/monstache-site/gridfs/">
	
	Indexing GridFS Files
</a>



  
</li>



<li>
  
    



<a  title="Routing" href="https://rwynn.github.io/monstache-site/index-meta/">
	
	Routing
</a>



  
</li>



<li>
  
    



<a  title="Workers" href="https://rwynn.github.io/monstache-site/workers/">
	
	Workers
</a>



  
</li>



<li>
  
    



<a  title="High Availability" href="https://rwynn.github.io/monstache-site/high-availability/">
	
	High Availability
</a>



  
</li>



<li>
  
    



<a  title="Merge Patches" href="https://rwynn.github.io/monstache-site/merge-patches/">
	
	Merge Patches
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://rwynn.github.io/monstache-site/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">Author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/rwynn" target="_blank" title="@rwynn on GitHub">
              @rwynn on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Options </h1>

			

<p>Options can be specified in your TOML config file or be passed into monstache as Go program arguments on the command line.
Options specified as program arguments take precedance over the same option in the TOML config file.</p>

<h2 id="stats">stats</h2>

<h3 id="boolean-default-false">boolean (default false)</h3>

<p>When stats is true monstache will periodically print statistics accumulated by the indexer</p>

<h2 id="stats-duration">stats-duration</h2>

<h3 id="string-default-30s">string (default 30s)</h3>

<p>Sets the duration after which statistics are printed if stats is enabled</p>

<h2 id="gzip">gzip</h2>

<h3 id="boolean-default-false-1">boolean (default false)</h3>

<p>When gzip is true, monstache will compress requests to elasticsearch to increase performance.
If you enable gzip in monstache and are using elasticsearch prior to version 5 you will also
need to update the elasticsearch config file to set http.compression: true. In elasticsearch
version 5 and above http.compression is enabled by default. Enabling gzip is recommended
especially if you enable the index-files setting.</p>

<h2 id="fail-fast">fail-fast</h2>

<h3 id="boolean-default-false-2">boolean (default false)</h3>

<p>When fail-fast is true, if monstache receives a failed bulk indexing response from Elasticsearch, monstache
will log the request that produced the response as an ERROR and then exit immediately with an error status.
Normally, monstache just logs the error and continues processing events.</p>

<p>If monstache has been configured with elasticsearch-retry true, a failed request will be
retried before being considered a failure.</p>

<h2 id="index-oplog-time">index-oplog-time</h2>

<h3 id="boolean-default-false-3">boolean (default false)</h3>

<p>If this option is set to true monstache will include 2 automatic fields in the source document indexed into
Elasticsearch.  The first is _oplog_ts which is the timestamp for the event copied directly from the MongoDB
oplog. The second is _oplog_date which is an Elasticsearch date field corresponding to the time of the same
event.</p>

<p>This information is generally useful in Elasticsearch giving the notion of last updated.  However, it&rsquo;s also
valuable information to have for failed indexing requests since it gives one the information to replay from
a failure point.  See the option resume-from-timestamp for information on how to replay oplog events since
a given event occurred.</p>

<h2 id="resume">resume</h2>

<h3 id="boolean-default-false-4">boolean (default false)</h3>

<p>When resume is true, monstache writes the timestamp of mongodb operations it has successfully synced to elasticsearch
to the collection monstache.monstache.  It also reads the timestamp from that collection when it starts in order to replay
events which it might have missed because monstache was stopped. If monstache is started with the cluster-name option
set then resume is automatically turned on.</p>

<h2 id="resume-name">resume-name</h2>

<h3 id="string-default-default">string (default &ldquo;default&rdquo;)</h3>

<p>monstache uses the value of resume-name as an id when storing and retrieving timestamps
to and from the mongodb collection monstache.monstache. The default value for this option is default.
However, there are some exceptions.  If monstache is started with the cluster-name option set then the
name of the cluster becomes the resume-name.  This is to ensure that any process in the cluster is able to resume
from the last timestamp successfully processed.  The other exception occurs when resume-name is not given but
worker-name is.  In that cause the worker name becomes the resume-name.</p>

<h2 id="resume-from-timestamp">resume-from-timestamp</h2>

<h3 id="int64-default-0">int64 (default 0)</h3>

<p>When resume-from-timestamp (a 64 bit timestamp where the high 32 bytes represent the number of seconds since epoch and the low 32 bits
represent an offset within a second) is given, monstache will sync events starting immediately after the timestamp.  This is useful if you have
a specific timestamp from the oplog and would like to start syncing from after this event.</p>

<h2 id="replay">replay</h2>

<h3 id="boolean-default-false-5">boolean (default false)</h3>

<p>When replay is true, monstache replays all events from the beginning of the mongodb oplog and syncs them to elasticsearch.</p>

<p>When resume and replay are both true, monstache replays all events from the beginning of the mongodb oplog, syncs them
to elasticsearch and also writes the timestamp of processed events to monstache.monstache.</p>

<p>When neither resume nor replay are true, monstache reads the last timestamp in the oplog and starts listening for events
occurring after this timestamp.  Timestamps are not written to monstache.monstache.  This is the default behavior.</p>

<h2 id="resume-write-unsafe">resume-write-unsafe</h2>

<h3 id="boolean-default-false-6">boolean (default false)</h3>

<p>When resume-write-unsafe is true monstache sets the safety mode of the mongodb session such that writes are fire and forget.
This speeds up writing of timestamps used to resume synching in a subsequent run of monstache.  This speed up comes at the cost
of no error checking on the write of the timestamp.  Since errors writing the last synched timestamp are only logged by monstache
and do not stop execution it&rsquo;s not unreasonable to set this to true to get a speedup.</p>

<h2 id="direct-read-namespaces">direct-read-namespaces</h2>

<h3 id="string-default-nil">[]string (default nil)</h3>

<p>At times even being able to replay from the beginning of the oplog is not enough to sync all of your mongodb data.
The oplog is a capped collection and may only contain a subset of the data.  In this case you can perform a direct
sync of mongodb to elasticsearch.  To do this, set direct-read-namespaces to an array of namespaces that you would
like to copy.  Monstache will perform reads directly from the given set of db.collection and sync them to elasticsearch.</p>

<h2 id="direct-read-limit">direct-read-limit</h2>

<h3 id="int-default-1000">int (default 1000)</h3>

<p>The maximum number of documents to retreive in each direct read query</p>

<h2 id="exit-after-direct-reads">exit-after-direct-reads</h2>

<h3 id="boolean-default-false-7">boolean (default false)</h3>

<p>The direct-read-namespaces option gives you a way to do a full sync on multiple collections.  At times you may want
to perform a full sync via the direct-read-namespaces option and then quit monstache.  Set this option to true and
monstache will exit after syncing the direct read collections instead of continuing to tail the oplog. This is useful
if you would like to run monstache to run a full sync on a set of collections via a cron job.</p>

<h2 id="namespace-regex">namespace-regex</h2>

<h3 id="regexp-default">regexp (default &ldquo;&rdquo;)</h3>

<p>When namespace-regex is given this regex is tested against the namespace, database.collection, of the event. If
the regex matches monstache continues processing event filters, otherwise it drops the event. By default monstache
processes events in all databases and all collections with the exception of the reserved database monstache, any
collections suffixed with .chunks, and the system collections. For more information see the section <a href="https://rwynn.github.io/monstache-site/namespaces/">Namespaces</a>.</p>

<h2 id="namespace-exclude-regex">namespace-exclude-regex</h2>

<h3 id="regex-default">regex (default &ldquo;&rdquo;)</h3>

<p>When namespace-exclude-regex is given this regex is tested against the namespace, database.collection, of the event. If
the regex matches monstache ignores the event, otherwise it continues processing event filters. By default monstache
processes events in all databases and all collections with the exception of the reserved database monstache, any
collections suffixed with .chunks, and the system collections. For more information see the section <a href="https://rwynn.github.io/monstache-site/namespaces/">Namespaces</a>.</p>

<h2 id="mongo-url">mongo-url</h2>

<h3 id="string-default-localhost">string (default localhost)</h3>

<p>The URL to connect to MongoDB which must follow the <a href="https://docs.mongodb.com/v3.0/reference/connection-string/#standard-connection-string-format">Standard Connection String Format</a></p>

<h2 id="mongo-pem-file">mongo-pem-file</h2>

<h3 id="string-default">string (default &ldquo;&rdquo;)</h3>

<p>When mongo-pem-file is given monstache will use the given file path to add a local certificate to x509 cert
pool when connecting to mongodb. This should only be used when mongodb is configured with SSL enabled.</p>

<h2 id="mongo-validate-pem">mongo-validate-pem</h2>

<h3 id="boolean-default-true">boolean (default true)</h3>

<p>When mongo-validate-pem-file is false TLS will be configured to skip verification</p>

<h2 id="mongo-oplog-database-name">mongo-oplog-database-name</h2>

<h3 id="string-default-local">string (default local)</h3>

<p>When mongo-oplog-database-name is given monstache will look for the mongodb oplog in the supplied database</p>

<h2 id="mongo-oplog-collection-name">mongo-oplog-collection-name</h2>

<h3 id="string-default-oplog-main">string (default $oplog.main)</h3>

<p>When mongo-oplog-collection-name is given monstache will look for the mongodb oplog in the supplied collection</p>

<h2 id="mongo-cursor-timeout">mongo-cursor-timeout</h2>

<h3 id="string-default-100s">string (default 100s)</h3>

<p>When mongo-cursor-timeout is given monstache will time out and re-query the oplog after the supplied duration.
Duration values are expected in the form 50s.</p>

<h2 id="mongo-dial-settings">mongo-dial-settings</h2>

<h3 id="toml-table-default-nil">TOML table (default nil)</h3>

<p>The following mongodb dial properties are available</p>

<h3 id="ssl">ssl</h3>

<h4 id="bool-default-false">bool (default false)</h4>

<p>Set to true to establish a connection using TLS.</p>

<h3 id="timeout">timeout</h3>

<h4 id="int-default-10">int (default 10)</h4>

<p>Seconds to wait when establishing a connection to mongodb before giving up</p>

<h2 id="mongo-session-settings">mongo-session-settings</h2>

<h3 id="toml-table-default-nil-1">TOML table (default nil)</h3>

<p>The following mongodb session properties are available</p>

<h3 id="socket-timeout">socket-timeout</h3>

<h4 id="int-default-60">int (default 60)</h4>

<p>Seconds to wait for a non-responding socket before it is forcefully closed</p>

<h3 id="sync-timeout">sync-timeout</h3>

<h4 id="int-default-60-1">int (default 60)</h4>

<p>Amount of time in seconds an operation will wait before returning an error in case a connection to a usable server can&rsquo;t be established.
Set it to zero to wait forever.</p>

<h2 id="gtm-settings">gtm-settings</h2>

<h3 id="toml-table-default-nil-2">TOML table (default nil)</h3>

<p>The following gtm configuration properties are available.  See (gtm)[<a href="https://github.com/rwynn/gtm">https://github.com/rwynn/gtm</a>] for details</p>

<h3 id="channel-size">channel-size</h3>

<h4 id="int-default-512">int (default 512)</h4>

<p>Controls the size of the go channels created for processing events.  When many events
are processed at once a larger channel size may prevent blocking in gtm.</p>

<h3 id="buffer-size">buffer-size</h3>

<h4 id="int-default-32">int (default 32)</h4>

<p>Determines how many documents are buffered by a gtm worker go routine before they are batch fetched from
mongodb.  When many documents are inserted or updated at once it is better to fetch them together.</p>

<h3 id="buffer-duration">buffer-duration</h3>

<h4 id="string-default-750ms">string (default 750ms)</h4>

<p>A string representation of a golang duration.  Determines the maximum time a buffer is held before it is
fetched in batch from mongodb and flushed for indexing.</p>

<h2 id="index-files">index-files</h2>

<h3 id="boolean-default-false-8">boolean (default false)</h3>

<p>When index-files is true monstache will index the raw content of files stored in GridFS into elasticsearch as an attachment type.
By default index-files is false meaning that monstache will only index metadata associated with files stored in GridFS.
In order for index-files to index the raw content of files stored in GridFS you must install a plugin for elasticsearch.
For versions of elasticsearch prior to version 5, you should install the <a href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.3/mapper-attachments.html">mapper-attachments</a> plugin.  In version 5 or greater
of elasticsearch the mapper-attachment plugin is deprecated and you should install the <a href="https://www.elastic.co/guide/en/elasticsearch/plugins/master/ingest-attachment.html">ingest-attachment</a> plugin instead.
For further information on how to configure monstache to index content from GridFS, see the section <a href="https://rwynn.github.io/monstache-site/gridfs/">Indexing Gridfs Files</a>.</p>

<h2 id="max-file-size">max-file-size</h2>

<h3 id="int-default-0">int (default 0)</h3>

<p>When max-file-size is greater than 0 monstache will not index the content of GridFS files that exceed this limit in bytes.</p>

<h2 id="file-namespaces">file-namespaces</h2>

<h3 id="string-default-nil-1">[]string (default nil)</h3>

<p>The file-namespaces config must be set when index-files is enabled.  file-namespaces must be set to an array of mongodb
namespace strings.  Files uploaded through gridfs to any of the namespaces in file-namespaces will be retrieved and their
raw content indexed into elasticsearch via either the mapper-attachments or ingest-attachment plugin.</p>

<h2 id="file-highlighting">file-highlighting</h2>

<h3 id="boolean-default-false-9">boolean (default false)</h3>

<p>When file-highlighting is true monstache will enable the ability to return highlighted keywords in the extracted text of files
for queries on files which were indexed in elasticsearch from gridfs.</p>

<h2 id="verbose">verbose</h2>

<h3 id="boolean-default-false-10">boolean (default false)</h3>

<p>When verbose is true monstache with enable debug logging including a trace of requests to elasticsearch</p>

<h2 id="elasticsearch-user">elasticsearch-user</h2>

<h3 id="string-default-1">string (default &ldquo;&rdquo;)</h3>

<p>Optional Elasticsearch username for basic auth</p>

<h2 id="elasticsearch-password">elasticsearch-password</h2>

<h3 id="string-default-2">string (default &ldquo;&rdquo;)</h3>

<p>Optional Elasticsearch password for basic auth</p>

<h2 id="elasticsearch-urls">elasticsearch-urls</h2>

<h3 id="string-default-http-localhost-9200">[]string (default <code>[ &quot;http://localhost:9200&quot; ]</code>)</h3>

<p>An array of URLs to connect to the Elasticsearch REST Interface</p>

<h2 id="elasticsearch-version">elasticsearch-version</h2>

<h3 id="string-by-default-determined-by-connecting-to-the-server">string (by default determined by connecting to the server)</h3>

<p>When elasticsearch-version is provided monstache will parse the given server version to determine how to interact with
the elasticsearch API.  This is normally not recommended because monstache will connect to elasticsearch to find out
which version is being used.  This option is provided for cases where connecting to the base URL of the elasticsearch REST
API to get the version is not possible or desired.</p>

<h2 id="elasticsearch-max-conns">elasticsearch-max-conns</h2>

<h3 id="int-default-10-1">int (default 10)</h3>

<p>The size of the Elasticsearch HTTP connection pool. This determines the concurrency of bulk indexing requests to Elasticsearch.
If you increase this value you may begin to see bulk indexing failures if the bulk index queue gets overloaded.  The default size
of this queue is 50.  To increase the size of the bulk indexing queue you can update the Elasticsearch config file:</p>

<pre><code>thread_pool:
    bulk:
    queue_size: 200
</code></pre>

<p>For more information see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-threadpool.html">Thread Pool</a>.</p>

<h2 id="elasticsearch-retry">elasticsearch-retry</h2>

<h3 id="boolean-default-false-11">boolean (default false)</h3>

<p>When elasticseach-retry is true a failed request to elasticsearch will be retried with an exponential backoff policy</p>

<h2 id="elasticsearch-max-docs">elasticsearch-max-docs</h2>

<h3 id="int-default-1000-1">int (default 1000)</h3>

<p>When elasticsearch-max-docs is given a bulk index request to elasticsearch will be forced when the buffer reaches the given number of documents</p>

<h2 id="elasticsearch-max-bytes">elasticsearch-max-bytes</h2>

<h3 id="int-default-16384">int (default 16384)</h3>

<p>When elasticsearch-max-bytes is given a bulk index request to elasticsearch will be forced when the buffer reaches the given number of bytes</p>

<h2 id="elasticsearch-max-seconds">elasticsearch-max-seconds</h2>

<h3 id="int-default-1">int (default 1)</h3>

<p>When elasticsearch-max-seconds is given a bulk index request to elasticsearch will be forced when a request has not been made in the given number of seconds</p>

<h2 id="elasticsearch-pem-file">elasticsearch-pem-file</h2>

<h3 id="string-default-3">string (default &ldquo;&rdquo;)</h3>

<p>When elasticsearch-pem-file is given monstache will use the given file path to add a local certificate to x509 cert
pool when connecting to elasticsearch. This should only be used when elasticsearch is configured with SSL enabled.</p>

<h2 id="elasticsearch-validate-pem">elasticsearch-validate-pem</h2>

<h3 id="boolean-default-true-1">boolean (default true)</h3>

<p>When elasticsearch-validate-pem-file is false TLS will be configured to skip verification</p>

<h2 id="dropped-databases">dropped-databases</h2>

<h3 id="boolean-default-true-2">boolean (default true)</h3>

<p>When dropped-databases is false monstache will not delete the mapped indexes in elasticsearch if a mongodb database is dropped</p>

<h2 id="dropped-collections">dropped-collections</h2>

<h3 id="boolean-default-true-3">boolean (default true)</h3>

<p>When dropped-collections is false monstache will not delete the mapped index in elasticsearch if a mongodb collection is dropped</p>

<h2 id="worker">worker</h2>

<h3 id="string-default-4">string (default &ldquo;&rdquo;)</h3>

<p>When worker is given monstache will enter multi-worker mode and will require you to also provide the config option workers.  Use this mode to run
multiple monstache processes and distribute the work between them.  In this mode monstache will ensure that each mongo document id always goes to the
same worker and none of the other workers. See the section <a href="https://rwynn.github.io/monstache-site/workers/">workers</a> for more information.</p>

<h2 id="workers">workers</h2>

<h3 id="string-default-nil-2">[]string (default nil)</h3>

<p>An array of worker names to be used in conjunction with the worker option.</p>

<h2 id="enable-patches">enable-patches</h2>

<h3 id="boolean-default-false-12">boolean (default false)</h3>

<p>Set to true to enable storing <a href="https://tools.ietf.org/html/rfc7396">rfc7396</a> patches in your elasticsearch documents</p>

<h2 id="patch-namespaces">patch-namespaces</h2>

<h3 id="string-default-nil-3">[]string (default nil)</h3>

<p>An array of mongodb namespaces that you would like to enable rfc7396 patches on</p>

<h2 id="merge-patch-attribute">merge-patch-attribute</h2>

<h3 id="string-default-json-merge-patches">string (default &ldquo;json-merge-patches&rdquo;)</h3>

<p>Customize the name of the property under which merge patches are stored</p>

<h2 id="cluster-name">cluster-name</h2>

<h3 id="string-default-5">string (default &ldquo;&rdquo;)</h3>

<p>When cluster-name is given monstache will enter a high availablity mode. Processes with cluster name set to the same value will coordinate.  Only one of the
processes in a cluster will be sync changes.  The other process will be in a paused state.  If the process which is syncing changes goes down for some reason
one of the processes in paused state will take control and start syncing.  See the section <a href="https://rwynn.github.io/monstache-site/high-availability/">high availability</a> for more information.</p>

<h2 id="script">script</h2>

<h3 id="array-of-toml-table-default-nil">[] array of TOML table (default nil)</h3>

<p>When script is given monstache will pass the mongodb document into the script before indexing into elasticsearch.  See the section <a href="https://rwynn.github.io/monstache-site/transform-filter/">Transform and Filter</a>
for more information.</p>

<h2 id="log">log</h2>

<h3 id="toml-table-default-nil-3">TOML table (default nil)</h3>

<p>Allows writing logs to a file using a rolling appender instead of stdout.  Supply a file path for each type of log you would like to send to a file.</p>

<h3 id="info">info</h3>

<h4 id="string-default-6">string (default &ldquo;&rdquo;)</h4>

<p>The file path to write info level logs to</p>

<h3 id="error">error</h3>

<h4 id="string-default-7">string (default &ldquo;&rdquo;)</h4>

<p>The file path to write error level logs to</p>

<h3 id="trace">trace</h3>

<h4 id="string-default-8">string (default &ldquo;&rdquo;)</h4>

<p>The file path to write trace level logs to. Trace logs are enabled via the verbose option.</p>

<h3 id="stats-1">stats</h3>

<h4 id="string-default-9">string (default &ldquo;&rdquo;)</h4>

<p>The file path to write indexing statistics to. Stats logs are enabled via the stats option.</p>

<hr />


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://rwynn.github.io/monstache-site/getting-started/" title="Getting started">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Getting started
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://rwynn.github.io/monstache-site/namespaces/" title="Namespaces">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Namespaces
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/rwynn.github.io\/monstache-site';
      var repo_id  = 'rwynn\/monstache';
    
    </script>

    <script src="https://rwynn.github.io/monstache-site/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

